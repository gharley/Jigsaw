<!DOCTYPE html>
<html>

<head>
   <meta charset="UTF-8">
   <title>Jigsaw puzzle</title>
   <script type="text/javascript" src="./jigsaw.js"></script>
   <link href="./jigsaw.css" rel="stylesheet">
</head>

<body onload="$('seed').value = Math.random() * 10000; updateRange('seed');">
   <table>
      <tr>
         <td><div class="tooltip"><img src="./Information_icon.svg"/><span class="tooltiptext">A custom randomizing seed that will always produce the same results for a given value.</span></div></td>
         <td>Seed:</td>
         <td><input id="_seed" type="text" value="0" onchange="updateText('seed')"/></td>
         <td><input id="seed" type="range" value="0" min="0" max="9999" step="1" onchange="updateRange('seed')"/></td>
      </tr>
      <tr>
         <td><div class="tooltip"><img src="./Information_icon.svg"/><span class="tooltiptext">The size of the tab on a tile as a fraction of the width or height. Default is 20%, minimum is 10% and max is 30%.</span></div></td>
         <td>Tab Size:</td>
         <td><input id="_tabsize" type="text" value="20%" onchange="updateText('tabsize')"/></td>
         <td><input id="tabsize" type="range" value="20" min="10" max="30" step="0.1" data-default="20" ondblclick="resetValue('tabsize')" onchange="updateRange('tabsize')"/></td>
      </tr>
      <tr>
         <td>
            <div class="tooltip"><img src="./Information_icon.svg"/>
               <span class="tooltiptext">Tabs are drawn in the middle if the tile by default. The Tab Offset will randomly shift the tab off center as a percentage of the width or height. 
                  Default is 0%, values should fall in a range of Tab Size / 2. If Randomize is checked it will randomly be 50% plus or minus Tab Size / 2.</span>
            </div>
         </td>
         <td>Tab Offset:</td>
         <td><input id="_taboffset" type="text" value="0%" onchange="updateText('taboffset')"/></td>
         <td><input id="taboffset" type="range" value="0" min="0" max="15" step="1.0" data-default="0" ondblclick="resetValue('taboffset')" onchange="updateRange('taboffset')"/></td>
         <td><input id="randomoffset" type="checkbox" onchange="update()"/> Randomize</td>
      </tr>
      <tr>
         <td>
            <div class="tooltip"><img src="./Information_icon.svg"/>
               <span class="tooltiptext">Jitter controls the distortion of the tabs on a tile as a percentage of the width or height. Default is 4%, minimum is 0% and max is 13%. 
                  If Randomize is checked the Jitter will be a random value between 0% and 13% for each tab.</span>
            </div>
         </td>
         <td>Jitter:</td>
         <td><input id="_jitter" type="text" value="4%" onchange="updateText('jitter')"/></td>
         <td><input id="jitter" type="range" value="4" min="0" max="13" step="0.1" data-default="4" ondblclick="resetValue('jitter')" onchange="updateRange('jitter')"/></td>
         <td><input id="randomjitter" type="checkbox" onchange="update()"/> Randomize</td>
      </tr>
      <tr>
         <td><div class="tooltip"><img src="./Information_icon.svg"/><span class="tooltiptext">The radius applied to the corners of the puzzle. 0 will give square corners, max value is 1/2 the smallest size dimension.</span></div></td>
         <td>Corner Radius:</td>
         <td><input id="radius" type="text" value="5.0" size="4" onchange="update()"/> mm</td>
         <td></td>
      </tr>
      <tr>
         <td><div class="tooltip"><img src="./Information_icon.svg"/><span class="tooltiptext">The width and height of the puzzle in terms of tiles.</span></div></td>
         <td>Tiles:</td>
         <td><input id="xn" type="text" value="15" size="4" onchange="update()"/> x <input id="yn" type="text" value="10"  size="4" onchange="update()"/></td>
         <td></td>
      </tr>
      <tr>
         <td><div class="tooltip"><img src="./Information_icon.svg"/><span class="tooltiptext">The width and height in millimeters of the SVG file when saved.</span></div></td>
         <td>Size:</td>
         <td><input id="width" type="text" value="300" size="4" onchange="update()"/> x <input id="height" type="text" value="200"  size="4" onchange="update()"/> mm</td>
         <td><button onclick="generate()">Download SVG</button></td>
      </tr>
   </table>
   <svg id="puzzlecontainer"><path id="puzzlepath" fill="none" stroke="black"></path></svg><br/>
   <p>
      Be sure to check your resulting pattern closely when applying values close to the extremes as tabs can overlap which is probably not what you want.
   </p>
</body>

</html>
